<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>VMS Municipal</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body style="background:#1a1a1a;color:#fff;padding:20px;font-family:Arial">
    <h1>VMS Municipal - MVP</h1>
    <div style="margin:20px 0">
        <input id="stream" value="test" style="padding:10px;width:300px">
        <button onclick="load()" style="padding:10px 20px;background:#007bff;color:#fff;border:none;cursor:pointer">Carregar</button>
    </div>
    <video id="video" controls style="width:100%;max-width:1200px;background:#000"></video>
    <script>
        let hls;
        function load() {
            const stream = document.getElementById('stream').value;
            if(hls) hls.destroy();
            hls = new Hls({lowLatencyMode:true});
            hls.loadSource(`/hls/${stream}/index.m3u8`);
            hls.attachMedia(document.getElementById('video'));
            hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
        }
    </script>
</body>
</html>
