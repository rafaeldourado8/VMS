# ======================================================
# === 1. CONFIGURAÇÃO DO DJANGO (BACKEND)
# ======================================================
# Chave secreta do Django
SECRET_KEY=your-secret-key-here

# Modo de debug
DEBUG=True

# Hosts permitidos (Adicionado gateway e nginx)
ALLOWED_HOSTS=localhost,127.0.0.1,backend,nginx,gateway

# ======================================================
# === 2. BANCO DE DADOS (POSTGRES - MASTER/WRITER)
# ======================================================
POSTGRES_DB=gtvision_db
POSTGRES_USER=gtvision_user
POSTGRES_PASSWORD=your-strong-password-here
DB_HOST=postgres_db
DB_PORT=5432

# --- RÉPLICAS DE LEITURA (NOVO) ---
# Em produção, aponte para IPs diferentes.
# Aqui apontamos para o mesmo container para funcionar localmente.
DB_HOST_REPLICA_1=postgres_db
DB_HOST_REPLICA_2=postgres_db
# Lista separada por vírgula para o FastAPI (balanceamento de leitura)
DB_HOST_READERS=postgres_db,postgres_db

# ======================================================
# === 3. CACHE (REDIS)
# ======================================================
REDIS_HOST=redis_cache
REDIS_PORT=6379
# URL completa (Usado pelo FastAPI/Celery)
REDIS_URL=redis://redis_cache:6379/0

# ======================================================
# === 4. MESSAGE BROKER (RABBITMQ)
# ======================================================
RABBITMQ_USER=gtvision_user
RABBITMQ_PASS=your-rabbitmq-password-here
RABBITMQ_VHOST=/

# ======================================================
# === 5. SERVIÇOS E CHAVES
# ======================================================
INGEST_API_KEY=your-ingest-api-key-here

# MediaMTX
MEDIAMTX_API_URL=http://mediamtx:9997
MEDIAMTX_API_USER=mediamtx_api_user
MEDIAMTX_API_PASS=GtV!sionMed1aMTX$2025

# ======================================================
# === 6. GATEWAY (NOVO)
# ======================================================
# URL interna do Django para o Gateway fazer proxy
DJANGO_BACKEND_URL=http://backend:8000

# ======================================================
# === 7. CONFIGURAÇÃO DO FRONTEND / CORS
# ======================================================
CORS_ALLOWED_ORIGINS=http://localhost,http://127.0.0.1,http://localhost:5173
CORS_ALLOW_CREDENTIALS=True

# ======================================================
# === 8. PATHS
# ======================================================
STATIC_ROOT=/app/staticfiles
MEDIA_ROOT=/app/media
BASE_URL=http://localhost