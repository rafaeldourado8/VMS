# ======================================================
# === 1. CONFIGURAÇÃO DO DJANGO (BACKEND)
# ======================================================

# Chave secreta do Django (gere uma nova para produção!)
SECRET_KEY=django-insecure-substitua-por-uma-chave-secreta-forte

# Modo debug (Use False em produção)
DEBUG=True

# Hosts permitidos (Nginx e containers Docker)
ALLOWED_HOSTS=localhost,127.0.0.1,backend,nginx

# ======================================================
# === 2. BANCO DE DADOS (POSTGRES)
# ======================================================

# Credenciais Postgres (usadas pelo backend e serviço postgres_db)
POSTGRES_DB=gtvision_db
POSTGRES_USER=gtvision_user
POSTGRES_PASSWORD=senha-forte-aqui

# Host e porta configurados no docker-compose
DB_HOST=postgres_db
DB_PORT=5432

# ======================================================
# === 3. CACHE E CELERY (REDIS)
# ======================================================

REDIS_HOST=redis_cache
REDIS_PORT=6379
REDIS_URL=redis://redis_cache:6379/0

# Celery Broker (para tarefas assíncronas)
CELERY_BROKER_URL=redis://redis_cache:6379/0
CELERY_RESULT_BACKEND=redis://redis_cache:6379/0

# ======================================================
# === 4. SERVIÇOS FASTAPI STREAMING / AI DETECTION
# ======================================================

# URL interna usada pelo Django para conversar com o FastAPI Streaming
STREAMING_SERVICE_URL=http://streaming_service:8001

# Chave de autenticação entre Django e FastAPI
STREAMING_API_KEY=chave-api-secreta-streaming

# Configurações do próprio serviço de streaming
FASTAPI_HOST=0.0.0.0
FASTAPI_PORT=8001
FASTAPI_RELOAD=false
LOG_LEVEL=INFO
MAX_STREAMS=50
JPEG_QUALITY=85

# ======================================================
# === 5. CHAVES INTERNAS E INTEGRAÇÕES
# ======================================================

# Chave de ingestão interna (AI Worker, etc.)
INGEST_API_KEY=chave-api-ingestao

# ======================================================
# === 6. CONFIGURAÇÃO DO NGINX / CORS / FRONTEND
# ======================================================

# Domínios que podem acessar a API (CORS)
# Inclui localhost, 127.0.0.1 e porta 5173 (modo dev Vite)
CORS_ALLOWED_ORIGINS=http://localhost,http://127.0.0.1,http://localhost:5173

# (Opcional) se o Django usar django-cors-headers, habilite:
CORS_ALLOW_CREDENTIALS=True

# ======================================================
# === 7. CONFIGURAÇÕES ADICIONAIS (AJUSTE SE PRECISAR)
# ======================================================

# Diretórios para static/media (caso precise ajustar paths)
STATIC_ROOT=/app/staticfiles
MEDIA_ROOT=/app/media

# Endereço do serviço principal (usado em logs ou notificações)
BASE_URL=http://localhost